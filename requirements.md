# 穿戴甲电商系统需求文档（FastAPI 后端）

## 1. 项目概述

本系统是一个面向穿戴甲（美甲）销售的轻量级电商平台，核心目标是：

* 帮助客户高效浏览、挑选、下单穿戴甲商品
* 帮助管理员便捷地管理商品、库存、订单与付款确认
* 适用于小型商家/个人工作室，偏向「人工确认付款 + 发货」的业务模式

系统采用 **前后端分离架构**，后端技术栈为 **FastAPI**，前端可使用任意现代前端框架（如 Vue / React / Next.js）。

---

## 2. 角色与权限设计

### 2.1 用户角色

| 角色   | 说明                      |
| ---- | ----------------------- |
| 游客   | 未登录用户，可浏览商品、查看详情        |
| 普通用户 | 可加入购物车、下单、提交付款凭证、查看订单状态 |
| 管理员  | 仅限内部访问，可管理商品、库存、订单、付款审核 |

### 2.2 权限原则

* 管理员页面 **不对公网暴露**
* 管理接口需满足以下条件之一：

  * 仅监听内网 IP / VPN
  * 或通过强身份认证（JWT + 强密码 + 二次校验）
* 普通用户 **无法访问任何管理接口**

---

## 3. 功能模块总览

### 3.1 前台功能（用户侧）

* 首页商品展示
* 商品详情查看
* 商品尺码选择与库存校验
* 购物车管理
* 订单创建
* 收货信息填写
* 付款信息展示（银行转账）
* 上传转账截图
* 订单状态跟踪

### 3.2 后台功能（管理员侧）

* 管理员登录 / 鉴权
* 商品管理（CRUD）
* 商品图片 / 视频上传
* 尺码与库存管理
* 商品上下架控制
* 订单管理
* 付款截图审核
* 订单状态流转（确认 / 拒绝 / 发货中）
* 库存自动扣减

---

## 4. 页面级需求设计

---

## 4.1 首页（主页）

### 页面目标

* 吸引用户浏览
* 快速展示商品
* 引导进入商品详情或购物车

### 页面结构

1. 顶部导航栏

   * Logo / 店铺名称
   * 商品分类（可选）
   * 购物车入口（显示商品数量）

2. Banner 区域

   * 可配置宣传图（如新品、热卖款）

3. 商品列表区

   * 商品主图
   * 商品标题
   * 起售价（最低尺码价格）
   * 库存状态（有货 / 售罄）

4. 底部信息

   * 联系方式（微信 / 客服）
   * 免责声明

### 交互细节

* 点击商品卡片 → 商品详情页
* 商品售罄显示灰态，不可加入购物车

---

## 4.2 商品详情页

### 页面目标

* 完整展示商品信息
* 支持用户选择尺码并加入购物车

### 页面结构

1. 商品媒体展示区

   * 图片轮播（多图）
   * 视频播放（可选）

2. 商品基础信息

   * 商品标题
   * 商品描述（支持富文本）
   * 注意事项（佩戴说明、退换政策）

3. 尺码与价格选择

   * 尺码列表（如 XS / S / M / L 或数字）
   * 每个尺码显示：

     * 单价
     * 剩余库存

4. 数量选择

   * 数量输入（受库存限制）

5. 操作按钮

   * 加入购物车
   * 立即购买（可选）

### 交互规则

* 切换尺码实时更新价格与库存
* 库存不足时禁止下单

---

## 4.3 购物车页面

### 页面目标

* 汇总用户已选商品
* 进行最终结算

### 页面结构

1. 商品列表

   * 商品缩略图
   * 商品名称
   * 选定尺码
   * 单价
   * 数量（可调整）
   * 小计金额

2. 操作功能

   * 删除商品
   * 修改数量

3. 金额汇总区

   * 商品总价
   * 运费（可配置）
   * 实付金额

4. 去结算按钮

---

## 4.4 结算 / 下单页面

### 页面目标

* 收集收货信息
* 创建订单

### 页面结构

1. 收货信息表单

   * 收件人姓名
   * 联系电话（校验格式）
   * 收货地址（省市区 + 详细地址）

2. 订单确认信息

   * 商品明细
   * 总金额

3. 提交订单按钮

### 规则说明

* 提交后生成订单，状态为「待付款」
* 锁定库存（避免超卖）

---

## 4.5 付款页面

### 页面目标

* 指引用户完成转账
* 收集付款凭证

### 页面结构

1. 付款说明

   * 银行名称
   * 银行卡号
   * 收款人姓名
   * 转账备注说明（如订单号）

2. 上传付款截图

   * 图片上传
   * 支持多次重传（覆盖旧图）

3. 提交审核按钮

### 订单状态

* 待付款 → 已提交付款凭证 → 待管理员审核

---

## 4.6 订单详情 / 状态页（用户侧）

### 页面目标

* 让用户了解订单进度

### 状态流转

* 待付款
* 待审核
* 已确认（安排发货）
* 已拒绝（可备注原因）
* 已发货（可扩展物流单号）

---

## 5. 管理员后台设计

> 后台仅管理员可访问，不对外公开

---

## 5.1 管理员登录页

* 用户名
* 密码
* 可选：IP 白名单 / 二次验证

---

## 5.2 商品管理页面

### 功能

* 新增商品
* 编辑商品
* 删除 / 下架商品
* 批量操作

### 商品字段

* 商品标题
* 商品描述（富文本）
* 商品图片（多张）
* 商品视频（可选）
* 尺码列表

  * 尺码名称
  * 单价
  * 库存数量
* 商品状态（上架 / 下架）

---

## 5.3 订单管理页面

### 订单列表

* 订单号
* 下单时间
* 用户联系方式
* 订单金额
* 当前状态

### 订单详情

* 商品明细
* 收货信息
* 付款截图
* 审核操作

  * 接受订单 → 状态更新为「安排发货」
  * 拒绝订单 → 填写拒绝原因

---

## 6. 数据与业务规则补充

### 库存规则

* 下单即锁库存
* 管理员确认付款后正式扣减
* 拒绝订单自动回滚库存

### 安全性

* 管理接口独立路由
* 文件上传校验（大小 / 类型）
* 防止越权访问

---

## 7. 可扩展功能建议

* 用户登录 / 历史订单
* 微信 / 支付宝支付接口
* 优惠券 / 满减
* 商品分类与搜索
* 发货物流单号追踪
* 数据统计（销量、库存预警）

---

## 8. 结语

该需求文档覆盖了从用户浏览、下单、付款到管理员审核与发货的完整闭环，适合以 FastAPI 为核心构建一个可控、低成本、可扩展的穿戴甲电商系统。
